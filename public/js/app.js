"use strict";$(function(){function n(){for(var n=0;n<m;n++){var o=Math.floor(8*Math.random());r.push(d[u[o]])}console.log("initializing!"),e()}function e(){O=0,c=[],setTimeout(function(){if(i.src="audio/"+r[h].audio+".wav",i.play(),!(++h<m))return h=0,void console.log(r);e(),o(h)},1e3)}function o(n){var e=r[n];console.log(e),e.element.removeClass("hidden").addClass(e.animationIn).removeClass(e.animationOut),setTimeout(function(){e.element.removeClass(e.animationIn).addClass(e.animationOut)},1200),setTimeout(function(){e.element.addClass("hidden")},1900)}function a(){var n=c.length===r.length&&c.every(function(n,e){return n===r[e]});if((O+=1)===m&&0===v)if(console.log(n),!0===n){var o=Math.floor(8*Math.random());r.push(u[o]),c=[],O=0,e(),m+=1}else!1===n&&(console.log("sudden death!"),O=0,v+=1,e());else O===m&&0!==v&&(!0===n?console.log("winner winner!"):!1===n&&console.log("tie"))}console.log("JS yo");var t=$(document),i=$("audio")[0],l=$(".welcome"),s=$("#game"),u=[49,50,51,52,53,54,55,56],d={49:{element:$(".first"),animationIn:"fadeInDownBig",animationOut:"fadeOut",audio:49},50:{element:$(".second"),animationIn:"zoomIn",animationOut:"fadeOut",audio:50},51:{element:$(".third"),animationIn:"flash",animationOut:"fadeOut",audio:51},52:{element:$(".fourth"),animationIn:"rotateIn",animationOut:"fadeOut",audio:52},53:{element:$(".fifth"),animationIn:"flashtwo",animationOut:"fadeOut",audio:53},54:{element:$(".sixth"),animationIn:"rotateIn",animationOut:"fadeOut",audio:54},55:{element:$(".seventh"),animationIn:"rotateIn",animationOut:"fadeOut",audio:55},56:{element:$(".eighth"),animationIn:"rotateIn",animationOut:"fadeOut",audio:56}},m=3,r=[],c=[],f=!1;t.keypress(function(n){var e=d[""+n.charCode];console.log(n.charCode),i.src="audio/"+n.charCode+".wav",i.play(),e.element.removeClass("hidden").addClass(e.animationIn).removeClass(e.animationOut),setTimeout(function(){e.element.removeClass(e.animationIn).addClass(e.animationOut)},1200),setTimeout(function(){e.element.addClass("hidden")},1900)}),s.on("click",function(){l.hide(),f=!0,n()});var h=0;!function(){console.log("listening..."),t.keypress(function(n){c.push(n.charCode),console.log(c),a()})}();var v=0,O=0});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwicHJvZ3JhbVNlcXVlbmNlIiwiaSIsImN1cnJlbnRSb3VuZCIsImNvbnNvbGUiLCJsb2ciLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwbGF5QmFjayIsImF1ZGlvIiwic2VxdWVuY2VJbmRleCIsInVzZXJTZXF1ZW5jZSIsInZpc3VhbGlzZSIsInBsYXkiLCJwcm9QYXR0ZXJuIiwiZWxlbWVudCIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsImFuaW1hdGlvbkluIiwicmVtb3ZlQ2xhc3MiLCJhbmltYXRpb25PdXQiLCJsaXN0ZW4iLCIkZG9jdW1lbnQiLCJjb21wYXJlQXJyYXlzIiwic291bmRzIiwibGVuZ3RoIiwiZXZlcnkiLCJ2IiwiY291bnQiLCJsb3NzZXMiLCJyYW5kIiwidGhlU2FtZSIsInB1c2giLCJkb2N1bWVudCIsIiR3ZWxjb21lIiwiNDkiLCJ2aXN1YWxzIiwicGxheWluZyIsInBhdHRlcm4iLCJjaGFyQ29kZSIsImUiLCJzcmMiLCJnYW1lSW5pdCIsImhpZGUiLCJrZXlwcmVzcyJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0EwR0lDLFFBQUFBLEtBQ0QsSUFBQSxHQUFBQyxHQUFBLEVBQUFBLEVBQUFDLEVBQUFELElBQUEsQ0FDREUsR0FBUUMsR0FBSUMsS0FBQUMsTUFBWixFQUFBRCxLQUFBRSxTQUNBQyxHQUFBQSxLQUFBQSxFQUFBQSxFQUFBQSxLQURBTCxRQUFRQyxJQUFJLGlCQUtkSSxJQVdJQyxRQUFBQSxLQUNBQyxFQUFBQSxFQUNBQyxLQUNFSCxXQUFBQSxXQUlBRSxHQUhBRSxFQUFBQSxJQUFBQSxTQUFVRixFQUFWQSxHQUFBRCxNQUFBRyxPQUNESCxFQUhESSxXQURBSCxFQU1FUixHQU9OLE1BRkNRLEdBQUEsTUFKS1AsU0FBUUMsSUFBSUosRUFBWkcsS0FDQVMsRUFBQUYsSUFPSlAsS0FHRVcsUUFBQUEsR0FBV0MsR0FDWixHQUFFRCxHQUZIZCxFQUFBQyxFQUdBZSxTQUFBQSxJ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LFFBZUosSUFBQU0sR0FBU04sRUFDUEssRUFBTUciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdKUyB5bycpO1xuXG4gIGNvbnN0ICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xuICBjb25zdCBhdWRpbyA9ICQoJ2F1ZGlvJylbMF07XG4gIGNvbnN0ICR3ZWxjb21lID0gJCgnLndlbGNvbWUnKTtcbiAgY29uc3QgJGdhbWUgPSAkKCcjZ2FtZScpO1xuICBjb25zdCBzb3VuZHMgPSBbNDksNTAsNTEsNTIsNTMsNTQsNTUsNTZdO1xuICAvLyBjb25zdCAkNDkgPSAkKCcuZmlyc3QnKTtcbiAgY29uc3QgdmlzdWFscyA9IHtcbiAgICA0OToge1xuICAgICAgZWxlbWVudDogJCgnLmZpcnN0JyksXG4gICAgICBhbmltYXRpb25JbjogJ2ZhZGVJbkRvd25CaWcnLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNDlcbiAgICB9LFxuICAgIDUwOiB7XG4gICAgICBlbGVtZW50OiAkKCcuc2Vjb25kJyksXG4gICAgICBhbmltYXRpb25JbjogJ3pvb21JbicsXG4gICAgICBhbmltYXRpb25PdXQ6ICdmYWRlT3V0JyxcbiAgICAgIGF1ZGlvOiA1MFxuICAgIH0sXG4gICAgNTE6IHtcbiAgICAgIGVsZW1lbnQ6ICQoJy50aGlyZCcpLFxuICAgICAgYW5pbWF0aW9uSW46ICdmbGFzaCcsXG4gICAgICBhbmltYXRpb25PdXQ6ICdmYWRlT3V0JyxcbiAgICAgIGF1ZGlvOiA1MVxuICAgIH0sXG4gICAgNTI6IHtcbiAgICAgIGVsZW1lbnQ6ICQoJy5mb3VydGgnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAncm90YXRlSW4nLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNTJcbiAgICB9LFxuICAgIDUzOiB7XG4gICAgICBlbGVtZW50OiAkKCcuZmlmdGgnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAnZmxhc2h0d28nLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNTNcbiAgICB9LFxuICAgIDU0OiB7XG4gICAgICBlbGVtZW50OiAkKCcuc2l4dGgnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAncm90YXRlSW4nLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNTRcbiAgICB9LFxuICAgIDU1OiB7XG4gICAgICBlbGVtZW50OiAkKCcuc2V2ZW50aCcpLFxuICAgICAgYW5pbWF0aW9uSW46ICdyb3RhdGVJbicsXG4gICAgICBhbmltYXRpb25PdXQ6ICdmYWRlT3V0JyxcbiAgICAgIGF1ZGlvOiA1NVxuICAgIH0sXG4gICAgNTY6IHtcbiAgICAgIGVsZW1lbnQ6ICQoJy5laWdodGgnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAncm90YXRlSW4nLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNTZcbiAgICB9XG5cbiAgfTtcblxuXG4gIC8vIGNvbnN0ICRkaXZzID0gJCBbJy5maXJzdCcsICcuc2Vjb25kJywgJy50aGlyZCcsICcuZm91cnRoJywgJy5maWZ0aCcsICcuc2l4dGgnLCAnLnNldmVudGgnLCAnLmVpZ2h0aCddO1xuXG5cbiAgLy8gY3VycmVudCByb3VuZC4gZW1wdHkgcHJvZ3JhbVNlcXVlbmNlIGFycmF5LFxuICAvL2dldHMgZmlsbGVkIHgzIGF0IHN0YXJ0IHRoZW4gKG5lZWRzIHRvIGJlICsgMSBvciAyIHBlciByb3VuZCkhISEhXG4gIGxldCBjdXJyZW50Um91bmQgPSAzO1xuICBsZXQgcHJvZ3JhbVNlcXVlbmNlID0gW107XG4gIGxldCB1c2VyU2VxdWVuY2UgPSBbXTtcbiAgbGV0IG51bUNvZGUgPSBudWxsO1xuXG5cbiAgLy9QbGF5aW5nIHllcy8gbm8gc3dpdGNoXG4gIGxldCBwbGF5aW5nID0gZmFsc2U7XG5cblxuICAvL2Fzc2lnbnMgdGhlIGF1ZGlvIHNyYyBhY2NvcmRpbmcgdG8ga2V5cHJlc3MgaWQgb2Yga2V5cyAxLTguXG4gICRkb2N1bWVudC5rZXlwcmVzcyhmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IHZpc3VhbHNbYCR7ZS5jaGFyQ29kZX1gXTtcbiAgICBjb25zb2xlLmxvZyhlLmNoYXJDb2RlKTtcbiAgICBhdWRpby5zcmMgPSBgYXVkaW8vJHtlLmNoYXJDb2RlfS53YXZgO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICBwYXR0ZXJuLmVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKHBhdHRlcm4uYW5pbWF0aW9uSW4pLnJlbW92ZUNsYXNzKHBhdHRlcm4uYW5pbWF0aW9uT3V0KTtcbiAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICBwYXR0ZXJuLmVsZW1lbnQucmVtb3ZlQ2xhc3MocGF0dGVybi5hbmltYXRpb25JbikuYWRkQ2xhc3MocGF0dGVybi5hbmltYXRpb25PdXQpO1xuICAgIH0sIDEyMDApO1xuICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgIHBhdHRlcm4uZWxlbWVudC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgfSwgMTkwMCk7XG5cbiAgfSk7XG5cblxuICAvL3N3aXRjaGVzIHBsYXlpbmcgdmFyIHRvIHRydWUgYW5kIGluaXRpYWx6ZXMgdGhlIGdhbWUgOilcbiAgLy9oaWRlcyB0aGUgd2VsY29tZSBkaXZcbiAgJGdhbWUub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICR3ZWxjb21lLmhpZGUoKTtcbiAgICBwbGF5aW5nID0gdHJ1ZTtcbiAgICBnYW1lSW5pdCgpO1xuICB9KTtcblxuICAvL2luaXRpYWxpemVzIHRoZSBidWlsZGluZyBvZiB0aGUgcHJvZ3JhbSBhcnJheVxuICBmdW5jdGlvbiBnYW1lSW5pdCAoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50Um91bmQ7IGkrKyl7XG4gICAgICBjb25zdCByYW5kID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo4KSk7XG4gICAgICBwcm9ncmFtU2VxdWVuY2UucHVzaCh2aXN1YWxzW3NvdW5kc1tyYW5kXV0pO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygnaW5pdGlhbGl6aW5nIScpO1xuICAgIHBsYXlCYWNrKCk7XG4gIH1cblxuXG4gIC8vIGhlcmUgZG9lcyB0aGVyZSBuZWVkIHRvIGJlIGEgZ2FtZSBhZGQgcmFuZG9tIGFkZGl0aW9uIHRvIGFycmF5IE9SIGEgd2F5IG9mIHVzaW5nIHRoZSBhYm92ZSBmdW5jdGlvbiBqdXN0IHRvIGFkZCBvbmU/XG5cbiAgLy90aGlzIHBsYXlzIGJhY2sgdGhlIGNvbnN0cnVjdGVkIHByb2dyYW0gYXJyYXlcbiAgbGV0IHNlcXVlbmNlSW5kZXggPSAwO1xuXG5cbiAgZnVuY3Rpb24gcGxheUJhY2soKSB7XG4gICAgY291bnQgPSAwO1xuICAgIHVzZXJTZXF1ZW5jZSA9IFtdO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgYXVkaW8uc3JjID0gYGF1ZGlvLyR7cHJvZ3JhbVNlcXVlbmNlW3NlcXVlbmNlSW5kZXhdLmF1ZGlvfS53YXZgO1xuICAgICAgYXVkaW8ucGxheSgpO1xuICAgICAgc2VxdWVuY2VJbmRleCsrO1xuICAgICAgaWYgKHNlcXVlbmNlSW5kZXggPCBjdXJyZW50Um91bmQpIHtcbiAgICAgICAgcGxheUJhY2soKTtcbiAgICAgICAgdmlzdWFsaXNlKHNlcXVlbmNlSW5kZXgpO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBzZXF1ZW5jZUluZGV4ID0gMDtcbiAgICAgICAgY29uc29sZS5sb2cocHJvZ3JhbVNlcXVlbmNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gdmlzdWFsaXNlIChpKSB7XG4gICAgY29uc3QgcHJvUGF0dGVybiA9IHByb2dyYW1TZXF1ZW5jZVtpXTtcbiAgICBjb25zb2xlLmxvZyhwcm9QYXR0ZXJuKTtcbiAgICBwcm9QYXR0ZXJuLmVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKHByb1BhdHRlcm4uYW5pbWF0aW9uSW4pLnJlbW92ZUNsYXNzKHByb1BhdHRlcm4uYW5pbWF0aW9uT3V0KTtcbiAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICBwcm9QYXR0ZXJuLmVsZW1lbnQucmVtb3ZlQ2xhc3MocHJvUGF0dGVybi5hbmltYXRpb25JbikuYWRkQ2xhc3MocHJvUGF0dGVybi5hbmltYXRpb25PdXQpO1xuICAgIH0sIDEyMDApO1xuICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgIHByb1BhdHRlcm4uZWxlbWVudC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgfSwgMTkwMCk7XG4gIH1cbiAgLy9GdW5jdGlvbiBwdXNoZXMga2V5IGNoYXJjb2RlcyB0aGUgdXNlciBpbnB1dHMgdG8gdGhlIHVzZXJTZXF1ZW5jZSBhcnJheS5cbiAgZnVuY3Rpb24gbGlzdGVuKCkge1xuICAgIGNvbnNvbGUubG9nKCdsaXN0ZW5pbmcuLi4nKTtcbiAgICAkZG9jdW1lbnQua2V5cHJlc3MoZnVuY3Rpb24oZSkge1xuICAgICAgdXNlclNlcXVlbmNlLnB1c2goZS5jaGFyQ29kZSk7XG4gICAgICBjb25zb2xlLmxvZyh1c2VyU2VxdWVuY2UpO1xuICAgICAgY29tcGFyZUFycmF5cygpO1xuICAgIH0pO1xuXG4gIH1cbiAgLy9cbiAgbGlzdGVuKCk7XG5cbiAgbGV0IGxvc3NlcyA9IDA7XG4gIGxldCBjb3VudCAgPSAwO1xuXG5cblxuICAvLyBjb21wYXJlcyB0aGUgdHdvIGFycmF5cyB3aGVuIHRoZSBsZW5ndGggbWF0Y2hlcyB0aGUgY3VycmVudCByb3VuZC5cbiAgLy8gbm90IHN1cGVyIHNpY2ssY291bGRudCBnZXQgaXQgc3RvcCB0cmlnZ2VyaW5nIG9uIGV2ZXJ5IGtleXByZXNzXG4gIC8vIGlmIHBsYXllciBwYXNzZXMgdGVzdCArMSBpcyBhZGRlZCB0byByb3VuZCBsZW5ndGggYW5kIHBsYXliYWNrIHN0YXJ0cyBhZ2Fpbi5cbiAgZnVuY3Rpb24gY29tcGFyZUFycmF5cygpIHtcbiAgICBjb25zdCB0aGVTYW1lID0gdXNlclNlcXVlbmNlLmxlbmd0aCA9PT0gcHJvZ3JhbVNlcXVlbmNlLmxlbmd0aCAmJiB1c2VyU2VxdWVuY2UuZXZlcnkoKHYsaSkgPT4gdiA9PT0gcHJvZ3JhbVNlcXVlbmNlW2ldKTtcbiAgICBjb3VudCArPSAxO1xuICAgIGlmICgoY291bnQgPT09IGN1cnJlbnRSb3VuZCkgJiYgKGxvc3NlcyA9PT0gMCkpe1xuICAgICAgY29uc29sZS5sb2codGhlU2FtZSk7XG4gICAgICBpZiAodGhlU2FtZSA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCByYW5kID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjgpO1xuICAgICAgICBwcm9ncmFtU2VxdWVuY2UucHVzaChzb3VuZHNbcmFuZF0pO1xuICAgICAgICB1c2VyU2VxdWVuY2UgPSBbXTtcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgICBwbGF5QmFjaygpO1xuICAgICAgICBjdXJyZW50Um91bmQgKz0gMTtcbiAgICAgIH0gZWxzZSBpZiAodGhlU2FtZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3N1ZGRlbiBkZWF0aCEnKTtcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgICBsb3NzZXMgKz0gMTtcbiAgICAgICAgcGxheUJhY2soKTtcblxuLy90aGlzIGJvdHRvbSBwYXJ0IG9mIHRoZSBpZiBlbHNlIGFjdHMgYXMgdGhlIHN1ZGRlbiBkZWF0aCBjYWxjdWxhdG9yIHBvcnRpb24gb2YgdGhlIGdhbWUsIHdvcmtzIG9uIHdoZXRoZXIgYSBsb3NzIHdhcyBzdG9yZWQgaW4gdGhlICdsb3NzZXMnIHZhci5cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKChjb3VudCA9PT0gY3VycmVudFJvdW5kKSAmJiAobG9zc2VzICE9PSAwKSl7XG4gICAgICBpZiAodGhlU2FtZSA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zb2xlLmxvZygnd2lubmVyIHdpbm5lciEnKTtcbiAgICAgIH0gZWxzZSBpZiAodGhlU2FtZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3RpZScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBmdW5jdGlvbiBzdWRkZW5EZWF0aCgpIHtcbiAgLy8gICBjb25zdCB0aGVTYW1lID0gdXNlclNlcXVlbmNlLmxlbmd0aCA9PT0gcHJvZ3JhbVNlcXVlbmNlLmxlbmd0aCAmJiB1c2VyU2VxdWVuY2UuZXZlcnkoKHYsaSkgPT4gdiA9PT0gcHJvZ3JhbVNlcXVlbmNlW2ldKTtcbiAgLy8gICBjb3VudCArPSAxO1xuICAvLyAgIGlmICgoY291bnQgPT09IGN1cnJlbnRSb3VuZCkgJiYgKGxvc3NlcyAhPT0gMCkpe1xuICAvLyAgICAgY29uc29sZS5sb2codGhlU2FtZSk7XG4gIC8vICAgICBpZiAodGhlU2FtZSA9PT0gdHJ1ZSkge1xuICAvLyAgICAgICBjb25zb2xlLmxvZygncGxheWVyIDIgd2lucyEnKTtcbiAgLy8gICAgICAgY291bnQgPSAwO1xuICAvLyAgICAgICBjdXJyZW50Um91bmQgKz0gMTtcbiAgLy8gICAgICAgcmV0dXJuO1xuICAvLyAgICAgfSBlbHNlIGlmICh0aGVTYW1lID09PSBmYWxzZSkge1xuICAvLyAgICAgICBjb25zb2xlLmxvZygndGllJyk7XG4gIC8vICAgICAgIGNvdW50ID0gMDtcbiAgLy9cbiAgLy9cbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vXG4gIC8vXG4gIC8vXG4gIC8vIH1cblxuXG59KTtcbiJdfQ==
