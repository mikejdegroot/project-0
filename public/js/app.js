"use strict";$(function(){function n(){for(var n=0;n<m;n++){var a=Math.floor(8*Math.random());r.push(d[u[a]])}console.log("initializing!"),e()}function e(){O=0,f=[],setTimeout(function(){if(t.src="audio/"+r[h].audio+".wav",t.play(),!(++h<m))return h=0,void console.log(r);e(),a(h)},1e3)}function a(n){var e=r[n];console.log(e),e.element.removeClass("hidden").addClass(e.animationIn).removeClass(e.animationOut),setTimeout(function(){e.element.removeClass(e.animationIn).addClass(e.animationOut)},1200),setTimeout(function(){e.element.addClass("hidden")},1900)}function o(){var n=f.length===r.length&&f.every(function(n,e){return n===r[e]});if((O+=1)===m&&0===v)if(console.log(n),!0===n){var a=Math.floor(8*Math.random());r.push(u[a]),f=[],O=0,e(),m+=1}else!1===n&&(console.log("sudden death!"),O=0,v+=1,e());else O===m&&0!==v&&(!0===n?console.log("winner winner!"):!1===n&&console.log("tie"))}console.log("JS yo");var i=$(document),t=$("audio")[0],s=$(".welcome"),l=$("#game"),u=[49,50,51,52,53,54,55,56],d={49:{element:$(".first"),animationIn:"fadeInDownBig",animationOut:"fadeOut",audio:49},50:{element:$(".second"),animationIn:"zoomIn",animationOut:"fadeOut",audio:50},51:{element:$(".third"),animationIn:"flash",animationOut:"fadeOut",audio:51},52:{element:$(".fourth"),animationIn:"rotateIn",animationOut:"fadeOut",audio:52},53:{element:$(".fifth"),animationIn:"flashtwo",animationOut:"fadeOut",audio:53},54:{element:$(".sixth"),animationIn:"fadeInUpBig",animationOut:"fadeOut",audio:54},55:{element:$(".seventh"),animationIn:"shake",animationOut:"fadeOut",audio:55},56:{element:$(".eighth"),animationIn:"slideInLeft",animationOut:"fadeOut",audio:56}},m=3,r=[],f=[],c=!1;i.keypress(function(n){var e=d[""+n.charCode];t.src="audio/"+n.charCode+".wav",t.play(),e.element.removeClass("hidden").addClass(e.animationIn).removeClass(e.animationOut),setTimeout(function(){e.element.removeClass(e.animationIn).addClass(e.animationOut)},1200),setTimeout(function(){e.element.addClass("hidden")},1900)}),l.on("click",function(){s.hide(),c=!0,n()});var h=0;!function(){console.log("listening..."),i.keypress(function(n){f.push(n.charCode),console.log(f),o()})}();var v=0,O=0});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwicHJvZ3JhbVNlcXVlbmNlIiwiaSIsImN1cnJlbnRSb3VuZCIsImNvbnNvbGUiLCJsb2ciLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwbGF5QmFjayIsImF1ZGlvIiwic2VxdWVuY2VJbmRleCIsInVzZXJTZXF1ZW5jZSIsInZpc3VhbGlzZSIsInBsYXkiLCJwcm9QYXR0ZXJuIiwiZWxlbWVudCIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsImFuaW1hdGlvbkluIiwicmVtb3ZlQ2xhc3MiLCJhbmltYXRpb25PdXQiLCJsaXN0ZW4iLCIkZG9jdW1lbnQiLCJjb21wYXJlQXJyYXlzIiwic291bmRzIiwibGVuZ3RoIiwiZXZlcnkiLCJ2IiwiY291bnQiLCJsb3NzZXMiLCJyYW5kIiwidGhlU2FtZSIsInB1c2giLCJkb2N1bWVudCIsIiR3ZWxjb21lIiwiNDkiLCJ2aXN1YWxzIiwicGxheWluZyIsInBhdHRlcm4iLCJlIiwiY2hhckNvZGUiLCJnYW1lSW5pdCIsImhpZGUiLCJrZXlwcmVzcyJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0EwR0lDLFFBQUFBLEtBQ0QsSUFBQSxHQUFBQyxHQUFBLEVBQUFBLEVBQUFDLEVBQUFELElBQUEsQ0FDREUsR0FBUUMsR0FBSUMsS0FBQUMsTUFBWixFQUFBRCxLQUFBRSxTQUNBQyxHQUFBQSxLQUFBQSxFQUFBQSxFQUFBQSxLQURBTCxRQUFRQyxJQUFJLGlCQUtkSSxJQVdJQyxRQUFBQSxLQUNBQyxFQUFBQSxFQUNBQyxLQUNFSCxXQUFBQSxXQUlBRSxHQUhBRSxFQUFBQSxJQUFBQSxTQUFVRixFQUFWQSxHQUFBRCxNQUFBRyxPQUNESCxFQUhESSxXQURBSCxFQU1FUixHQU9OLE1BRkNRLEdBQUEsTUFKS1AsU0FBUUMsSUFBSUosRUFBWkcsS0FDQVMsRUFBQUYsSUFPSlAsS0FHRVcsUUFBQUEsR0FBV0MsR0FDWixHQUFFRCxHQUZIZCxFQUFBQyxFQUdBZSxTQUFBQSxJQUFZRixHQUNWQSxFQUFBQSxRQUFXQyxZQUFpQixVQUE1QkUsU0FBQUgsRUFBQUksYUFBQUMsWUFBQUwsRUFBQU0sY0FDREosV0FGRCxXQUdERixFQUFBQyxRQUFBSSxZQUFBTCxFQUFBSSxhQUFBRCxTQUFBSCxFQUFBTSxlQUNELE1BQ0FKLFdBQVNLLFdBQ1BsQixFQUFZWSxRQUFBRSxTQUFaLFdBQ0FLLE1Bd0JJLFFBQUFDLEtBQ0F2QixHQUFBQSxHQUFBQSxFQUFxQndCLFNBQXJCeEIsRUFBQXlCLFFBQUFkLEVBQUFlLE1BQUEsU0FBQUMsRUFBQTFCLEdBQUEsTUFBQTBCLEtBQUEzQixFQUFBQyxJQUVBMkIsS0FEQWpCLEdBQUFBLEtBQ0FULEdBQUEsSUFBQTJCLEVBRUEzQixHQURBTSxRQUFBQSxJQUFBQSxJQUNBTixJQUFBQSxFQUFBLENBTkYsR0FPTzRCLEdBQUlDLEtBQUFBLE1BQW1CLEVBQVAxQixLQUFPRSxTQUM1QkosR0FBWTZCLEtBQUFSLEVBQVpNLElBQ0FGLEtBQ0FDLEVBQUFBLEVBQ0FyQixJQUxBTixHQUFnQixPQU94QixJQUFBNkIsSUFDTzVCLFFBQUFDLElBQUEsaUJBaEJId0IsRUFpQllBLEVBQ1ZDLEdBQUlFLEVBQ0Y1QixTQUlIeUIsS0FBQTFCLEdBQUEsSUFBQTJCLEtBQ0YsSUFBQUUsRUFDRDVCLFFBQUFDLElBQUEsbUJBQ0EsSUFBQTJCLEdBQ0E1QixRQUFBQyxJQUFBLFFBdk1BRCxRQUFRQyxJQUFJLFFBQVpELElBQUFBLEdBQVlKLEVBQVprQyxVQUdNeEIsRUFBUVYsRUFBRSxTQUFTLEdBRG5CdUIsRUFBWXZCLEVBQUVrQyxZQUNkeEIsRUFBVVYsRUFBQSxTQUNWbUMsR0FBV25DLEdBQUUsR0FBQSxHQUFBLEdBQW5CLEdBQUEsR0FBQSxHQUFBLElBRU15QixHQUNOVyxJQUNNQyxRQUFBQSxFQUFVLFVBQ2RsQixZQUFJLGdCQUNGSCxhQUFXLFVBQ1hHLE1BQUFBLElBRUFULElBTFlNLFFBQUFoQixFQUFBLFdBT2RtQixZQUFJLFNBQ0ZILGFBQVcsVUFDWEcsTUFBQUEsSUFFQVQsSUFYWU0sUUFBQWhCLEVBQUEsVUFhZG1CLFlBQUksUUFDRkgsYUFBVyxVQUNYRyxNQUFBQSxJQUVBVCxJQWpCWU0sUUFBQWhCLEVBQUEsV0FtQmRtQixZQUFJLFdBQ0ZILGFBQVcsVUFDWEcsTUFBQUEsSUFFQVQsSUF2QllNLFFBQUFoQixFQUFBLFVBeUJkbUIsWUFBSSxXQUNGSCxhQUFXLFVBQ1hHLE1BQUFBLElBRUFULElBN0JZTSxRQUFBaEIsRUFBQSxVQStCZG1CLFlBQUksY0FDRkgsYUFBVyxVQUNYRyxNQUFBQSxJQUVBVCxJQW5DWU0sUUFBQWhCLEVBQUEsWUFxQ2RtQixZQUFJLFFBQ0ZILGFBQVcsVUFDWEcsTUFBQUEsSUFFQVQsSUF6Q1lNLFFBQUFoQixFQUFBLFdBMkNkbUIsWUFBSSxjQUNGSCxhQUFXLFVBQ1hHLE1BQUFBLEtBWUpoQixFQUFBLEVBQ0lBLEtBQ0FGLEtBTUFxQyxHQUFVLENBS1pmLEdBQU1nQixTQUFVRixTQUFBQSxHQUNoQixHQUFBRSxHQUFBRixFQUFBQSxHQUFBRyxFQUFBQyxTQUVBL0IsR0FBTUksSUFBTkosU0FBQThCLEVBQUFDLFNBQUEvQixPQUNBNkIsRUFBQUEsT0FDQXRCLEVBQUFBLFFBQVlHLFlBQU0sVUFBQUYsU0FBQXFCLEVBQUFwQixhQUFBQyxZQUFBbUIsRUFBQWxCLGNBQ2hCa0IsV0FBUXZCLFdBRFZ1QixFQUFBdkIsUUFBQUksWUFBQW1CLEVBQUFwQixhQUFBRCxTQUFBcUIsRUFBQWxCLGVBR0FKLE1BQ0VzQixXQUFRdkIsV0FEVnVCLEVBQUF2QixRQUFBRSxTQUFBLFdBVEYsUUFxQkV3QixFQUFBQSxHQUFBQSxRQUFBQSxXQUhGUCxFQUFBUSxPQUVFTCxHQUFVLEVBSVpJLEtBbUJFOUIsSUFBQUEsR0FBQSxHQWtDRVksV0FDRHBCLFFBSkRDLElBQUEsZ0JBTURrQixFQUFBcUIsU0FBQSxTQUFBSixHQUNENUIsRUFBQXFCLEtBQUFPLEVBQUFDLFVBQ0FuQixRQUFBQSxJQUFBQSxHQUxJRSxRQWVKLElBQUFNLEdBQVNOLEVBQ1BLLEVBQU1HIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBjb25zb2xlLmxvZygnSlMgeW8nKTtcblxuICBjb25zdCAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcbiAgY29uc3QgYXVkaW8gPSAkKCdhdWRpbycpWzBdO1xuICBjb25zdCAkd2VsY29tZSA9ICQoJy53ZWxjb21lJyk7XG4gIGNvbnN0ICRnYW1lID0gJCgnI2dhbWUnKTtcbiAgY29uc3Qgc291bmRzID0gWzQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2XTtcbiAgLy8gY29uc3QgJDQ5ID0gJCgnLmZpcnN0Jyk7XG4gIGNvbnN0IHZpc3VhbHMgPSB7XG4gICAgNDk6IHtcbiAgICAgIGVsZW1lbnQ6ICQoJy5maXJzdCcpLFxuICAgICAgYW5pbWF0aW9uSW46ICdmYWRlSW5Eb3duQmlnJyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDQ5XG4gICAgfSxcbiAgICA1MDoge1xuICAgICAgZWxlbWVudDogJCgnLnNlY29uZCcpLFxuICAgICAgYW5pbWF0aW9uSW46ICd6b29tSW4nLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNTBcbiAgICB9LFxuICAgIDUxOiB7XG4gICAgICBlbGVtZW50OiAkKCcudGhpcmQnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAnZmxhc2gnLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNTFcbiAgICB9LFxuICAgIDUyOiB7XG4gICAgICBlbGVtZW50OiAkKCcuZm91cnRoJyksXG4gICAgICBhbmltYXRpb25JbjogJ3JvdGF0ZUluJyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDUyXG4gICAgfSxcbiAgICA1Mzoge1xuICAgICAgZWxlbWVudDogJCgnLmZpZnRoJyksXG4gICAgICBhbmltYXRpb25JbjogJ2ZsYXNodHdvJyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDUzXG4gICAgfSxcbiAgICA1NDoge1xuICAgICAgZWxlbWVudDogJCgnLnNpeHRoJyksXG4gICAgICBhbmltYXRpb25JbjogJ2ZhZGVJblVwQmlnJyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDU0XG4gICAgfSxcbiAgICA1NToge1xuICAgICAgZWxlbWVudDogJCgnLnNldmVudGgnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAnc2hha2UnLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNTVcbiAgICB9LFxuICAgIDU2OiB7XG4gICAgICBlbGVtZW50OiAkKCcuZWlnaHRoJyksXG4gICAgICBhbmltYXRpb25JbjogJ3NsaWRlSW5MZWZ0JyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDU2XG4gICAgfVxuXG4gIH07XG5cblxuICAvLyBjb25zdCAkZGl2cyA9ICQgWycuZmlyc3QnLCAnLnNlY29uZCcsICcudGhpcmQnLCAnLmZvdXJ0aCcsICcuZmlmdGgnLCAnLnNpeHRoJywgJy5zZXZlbnRoJywgJy5laWdodGgnXTtcblxuXG4gIC8vIGN1cnJlbnQgcm91bmQuIGVtcHR5IHByb2dyYW1TZXF1ZW5jZSBhcnJheSxcbiAgLy9nZXRzIGZpbGxlZCB4MyBhdCBzdGFydCB0aGVuIChuZWVkcyB0byBiZSArIDEgb3IgMiBwZXIgcm91bmQpISEhIVxuICBsZXQgY3VycmVudFJvdW5kID0gMztcbiAgbGV0IHByb2dyYW1TZXF1ZW5jZSA9IFtdO1xuICBsZXQgdXNlclNlcXVlbmNlID0gW107XG4gIGxldCBudW1Db2RlID0gbnVsbDtcblxuXG4gIC8vUGxheWluZyB5ZXMvIG5vIHN3aXRjaFxuICBsZXQgcGxheWluZyA9IGZhbHNlO1xuXG5cbiAgLy9hc3NpZ25zIHRoZSBhdWRpbyBzcmMgYWNjb3JkaW5nIHRvIGtleXByZXNzIGlkIG9mIGtleXMgMS04LlxuICAkZG9jdW1lbnQua2V5cHJlc3MoZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IHBhdHRlcm4gPSB2aXN1YWxzW2Ake2UuY2hhckNvZGV9YF07XG4gICAgLy8gY29uc29sZS5sb2coZS5jaGFyQ29kZSk7XG4gICAgYXVkaW8uc3JjID0gYGF1ZGlvLyR7ZS5jaGFyQ29kZX0ud2F2YDtcbiAgICBhdWRpby5wbGF5KCk7XG4gICAgcGF0dGVybi5lbGVtZW50LnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcyhwYXR0ZXJuLmFuaW1hdGlvbkluKS5yZW1vdmVDbGFzcyhwYXR0ZXJuLmFuaW1hdGlvbk91dCk7XG4gICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgcGF0dGVybi5lbGVtZW50LnJlbW92ZUNsYXNzKHBhdHRlcm4uYW5pbWF0aW9uSW4pLmFkZENsYXNzKHBhdHRlcm4uYW5pbWF0aW9uT3V0KTtcbiAgICB9LCAxMjAwKTtcbiAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICBwYXR0ZXJuLmVsZW1lbnQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIH0sIDE5MDApO1xuXG4gIH0pO1xuXG5cbiAgLy9zd2l0Y2hlcyBwbGF5aW5nIHZhciB0byB0cnVlIGFuZCBpbml0aWFsemVzIHRoZSBnYW1lIDopXG4gIC8vaGlkZXMgdGhlIHdlbGNvbWUgZGl2XG4gICRnYW1lLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAkd2VsY29tZS5oaWRlKCk7XG4gICAgcGxheWluZyA9IHRydWU7XG4gICAgZ2FtZUluaXQoKTtcbiAgfSk7XG5cbiAgLy9pbml0aWFsaXplcyB0aGUgYnVpbGRpbmcgb2YgdGhlIHByb2dyYW0gYXJyYXlcbiAgZnVuY3Rpb24gZ2FtZUluaXQgKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFJvdW5kOyBpKyspe1xuICAgICAgY29uc3QgcmFuZCA9IChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqOCkpO1xuICAgICAgcHJvZ3JhbVNlcXVlbmNlLnB1c2godmlzdWFsc1tzb3VuZHNbcmFuZF1dKTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ2luaXRpYWxpemluZyEnKTtcbiAgICBwbGF5QmFjaygpO1xuICB9XG5cblxuICAvLyBoZXJlIGRvZXMgdGhlcmUgbmVlZCB0byBiZSBhIGdhbWUgYWRkIHJhbmRvbSBhZGRpdGlvbiB0byBhcnJheSBPUiBhIHdheSBvZiB1c2luZyB0aGUgYWJvdmUgZnVuY3Rpb24ganVzdCB0byBhZGQgb25lP1xuXG4gIC8vdGhpcyBwbGF5cyBiYWNrIHRoZSBjb25zdHJ1Y3RlZCBwcm9ncmFtIGFycmF5XG4gIGxldCBzZXF1ZW5jZUluZGV4ID0gMDtcblxuXG4gIGZ1bmN0aW9uIHBsYXlCYWNrKCkge1xuICAgIGNvdW50ID0gMDtcbiAgICB1c2VyU2VxdWVuY2UgPSBbXTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGF1ZGlvLnNyYyA9IGBhdWRpby8ke3Byb2dyYW1TZXF1ZW5jZVtzZXF1ZW5jZUluZGV4XS5hdWRpb30ud2F2YDtcbiAgICAgIGF1ZGlvLnBsYXkoKTtcbiAgICAgIHNlcXVlbmNlSW5kZXgrKztcbiAgICAgIGlmIChzZXF1ZW5jZUluZGV4IDwgY3VycmVudFJvdW5kKSB7XG4gICAgICAgIHBsYXlCYWNrKCk7XG4gICAgICAgIHZpc3VhbGlzZShzZXF1ZW5jZUluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgc2VxdWVuY2VJbmRleCA9IDA7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2dyYW1TZXF1ZW5jZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZpc3VhbGlzZSAoaSkge1xuICAgIGNvbnN0IHByb1BhdHRlcm4gPSBwcm9ncmFtU2VxdWVuY2VbaV07XG4gICAgY29uc29sZS5sb2cocHJvUGF0dGVybik7XG4gICAgcHJvUGF0dGVybi5lbGVtZW50LnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5hZGRDbGFzcyhwcm9QYXR0ZXJuLmFuaW1hdGlvbkluKS5yZW1vdmVDbGFzcyhwcm9QYXR0ZXJuLmFuaW1hdGlvbk91dCk7XG4gICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgcHJvUGF0dGVybi5lbGVtZW50LnJlbW92ZUNsYXNzKHByb1BhdHRlcm4uYW5pbWF0aW9uSW4pLmFkZENsYXNzKHByb1BhdHRlcm4uYW5pbWF0aW9uT3V0KTtcbiAgICB9LCAxMjAwKTtcbiAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICBwcm9QYXR0ZXJuLmVsZW1lbnQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgIH0sIDE5MDApO1xuICB9XG4gIC8vRnVuY3Rpb24gcHVzaGVzIGtleSBjaGFyY29kZXMgdGhlIHVzZXIgaW5wdXRzIHRvIHRoZSB1c2VyU2VxdWVuY2UgYXJyYXkuXG4gIGZ1bmN0aW9uIGxpc3RlbigpIHtcbiAgICBjb25zb2xlLmxvZygnbGlzdGVuaW5nLi4uJyk7XG4gICAgJGRvY3VtZW50LmtleXByZXNzKGZ1bmN0aW9uKGUpIHtcbiAgICAgIHVzZXJTZXF1ZW5jZS5wdXNoKGUuY2hhckNvZGUpO1xuICAgICAgY29uc29sZS5sb2codXNlclNlcXVlbmNlKTtcbiAgICAgIGNvbXBhcmVBcnJheXMoKTtcbiAgICB9KTtcblxuICB9XG4gIC8vXG4gIGxpc3RlbigpO1xuXG4gIGxldCBsb3NzZXMgPSAwO1xuICBsZXQgY291bnQgID0gMDtcblxuXG5cbiAgLy8gY29tcGFyZXMgdGhlIHR3byBhcnJheXMgd2hlbiB0aGUgbGVuZ3RoIG1hdGNoZXMgdGhlIGN1cnJlbnQgcm91bmQuXG4gIC8vIG5vdCBzdXBlciBzaWNrLGNvdWxkbnQgZ2V0IGl0IHN0b3AgdHJpZ2dlcmluZyBvbiBldmVyeSBrZXlwcmVzc1xuICAvLyBpZiBwbGF5ZXIgcGFzc2VzIHRlc3QgKzEgaXMgYWRkZWQgdG8gcm91bmQgbGVuZ3RoIGFuZCBwbGF5YmFjayBzdGFydHMgYWdhaW4uXG4gIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoKSB7XG4gICAgY29uc3QgdGhlU2FtZSA9IHVzZXJTZXF1ZW5jZS5sZW5ndGggPT09IHByb2dyYW1TZXF1ZW5jZS5sZW5ndGggJiYgdXNlclNlcXVlbmNlLmV2ZXJ5KCh2LGkpID0+IHYgPT09IHByb2dyYW1TZXF1ZW5jZVtpXSk7XG4gICAgY291bnQgKz0gMTtcbiAgICBpZiAoKGNvdW50ID09PSBjdXJyZW50Um91bmQpICYmIChsb3NzZXMgPT09IDApKXtcbiAgICAgIGNvbnNvbGUubG9nKHRoZVNhbWUpO1xuICAgICAgaWYgKHRoZVNhbWUgPT09IHRydWUpIHtcbiAgICAgICAgY29uc3QgcmFuZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo4KTtcbiAgICAgICAgcHJvZ3JhbVNlcXVlbmNlLnB1c2goc291bmRzW3JhbmRdKTtcbiAgICAgICAgdXNlclNlcXVlbmNlID0gW107XG4gICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgcGxheUJhY2soKTtcbiAgICAgICAgY3VycmVudFJvdW5kICs9IDE7XG4gICAgICB9IGVsc2UgaWYgKHRoZVNhbWUgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzdWRkZW4gZGVhdGghJyk7XG4gICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgbG9zc2VzICs9IDE7XG4gICAgICAgIHBsYXlCYWNrKCk7XG5cbi8vdGhpcyBib3R0b20gcGFydCBvZiB0aGUgaWYgZWxzZSBhY3RzIGFzIHRoZSBzdWRkZW4gZGVhdGggY2FsY3VsYXRvciBwb3J0aW9uIG9mIHRoZSBnYW1lLCB3b3JrcyBvbiB3aGV0aGVyIGEgbG9zcyB3YXMgc3RvcmVkIGluIHRoZSAnbG9zc2VzJyB2YXIuXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoY291bnQgPT09IGN1cnJlbnRSb3VuZCkgJiYgKGxvc3NlcyAhPT0gMCkpe1xuICAgICAgaWYgKHRoZVNhbWUgPT09IHRydWUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3dpbm5lciB3aW5uZXIhJyk7XG4gICAgICB9IGVsc2UgaWYgKHRoZVNhbWUgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0aWUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gZnVuY3Rpb24gc3VkZGVuRGVhdGgoKSB7XG4gIC8vICAgY29uc3QgdGhlU2FtZSA9IHVzZXJTZXF1ZW5jZS5sZW5ndGggPT09IHByb2dyYW1TZXF1ZW5jZS5sZW5ndGggJiYgdXNlclNlcXVlbmNlLmV2ZXJ5KCh2LGkpID0+IHYgPT09IHByb2dyYW1TZXF1ZW5jZVtpXSk7XG4gIC8vICAgY291bnQgKz0gMTtcbiAgLy8gICBpZiAoKGNvdW50ID09PSBjdXJyZW50Um91bmQpICYmIChsb3NzZXMgIT09IDApKXtcbiAgLy8gICAgIGNvbnNvbGUubG9nKHRoZVNhbWUpO1xuICAvLyAgICAgaWYgKHRoZVNhbWUgPT09IHRydWUpIHtcbiAgLy8gICAgICAgY29uc29sZS5sb2coJ3BsYXllciAyIHdpbnMhJyk7XG4gIC8vICAgICAgIGNvdW50ID0gMDtcbiAgLy8gICAgICAgY3VycmVudFJvdW5kICs9IDE7XG4gIC8vICAgICAgIHJldHVybjtcbiAgLy8gICAgIH0gZWxzZSBpZiAodGhlU2FtZSA9PT0gZmFsc2UpIHtcbiAgLy8gICAgICAgY29uc29sZS5sb2coJ3RpZScpO1xuICAvLyAgICAgICBjb3VudCA9IDA7XG4gIC8vXG4gIC8vXG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvL1xuICAvL1xuICAvL1xuICAvLyB9XG5cblxufSk7XG4iXX0=
