"use strict";$(function(){function n(){g=f%2==0?"Player 2":"Player 1"}function e(){for(var n=0;n<h;n++){var e=Math.floor(8*Math.random());c.push(r[d[e]])}console.log("initializing!"),t()}function t(){v=[],setTimeout(function(){if(!(I<h))return void(I=0);t(),a(c[I]),m.addClass("hidden"),m.html(g),console.log(c[I].audio),I++},1e3)}function a(n){m.html(g),l.src="audio/"+n.audio+".wav",l.play();var e=n.element.clone();e.appendTo("main").removeClass("hidden").addClass(n.animationIn).removeClass(n.animationOut),setTimeout(function(){e.removeClass(n.animationIn).addClass(n.animationOut)},1200),setTimeout(function(){e.remove()},1900)}function o(){var e=v.length===c.length&&v.every(function(n,e){return n===c[e].audio});if((C+=1)===h&&0===p)if(console.log(e),!0===e){var a=Math.floor(8*Math.random());c.push(r[d[a]]),console.log(c),v=[],C=0,h+=1,f+=1,n(),m.html("Pass! - next up "+g),m.removeClass("hidden"),setTimeout(t,3e3)}else!1===e&&(v=[],C=0,p+=1,f+=1,setTimeout(t,3e3),n(),m.html("Fail! sudden death!! -next up "+g),m.removeClass("hidden"));else C===h&&0!==p&&(!0===e?(m.html(g+" Wins!"),m.removeClass("hidden")):!1===e&&(m.html(g+" Fails!! ---- TIE!"),m.removeClass("hidden")))}console.log("JS yo");var i=$(document),l=$("audio")[0],u=$(".welcome"),s=$("#game"),m=$(".feedback"),d=[49,50,51,52,53,54,55,56],r={49:{element:$(".first"),animationIn:"fadeInDownBig",animationOut:"zoomOut",audio:49},50:{element:$(".second"),animationIn:"zoomIn",animationOut:"fadeOut",audio:50},51:{element:$(".third"),animationIn:"flash",animationOut:"fadeOut",audio:51},52:{element:$(".fourth"),animationIn:"rotateIn",animationOut:"rotateOut",audio:52},53:{element:$(".fifth"),animationIn:"flashtwo",animationOut:"fadeOut",audio:53},54:{element:$(".sixth"),animationIn:"fadeInUpBig",animationOut:"lightSpeedOut",audio:54},55:{element:$(".seventh"),animationIn:"shake",animationOut:"fadeOut",audio:55},56:{element:$(".eighth"),animationIn:"slideInLeft",animationOut:"fadeOut",audio:56}},h=3,f=h,c=[],v=[],O=!1,g="player 1";i.keypress(function(n){a(r[""+n.charCode])}),s.on("click",function(){u.hide(),O=!0,m.removeClass("hidden"),m.html(g),setTimeout(e,3e3)});var I=0;!function(){console.log("listening..."),i.keypress(function(n){v.push(n.charCode),console.log(v),o()})}();var p=0,C=0});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiY3VycmVudFBsYXllciIsImN1cnJlbnRQbGF5ZXJOdW0iLCJpIiwiY29uc29sZSIsInBsYXlCYWNrIiwicmFuZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInByb2dyYW1TZXF1ZW5jZSIsInB1c2giLCJ2aXN1YWxzIiwic291bmRzIiwibG9nIiwidmlzdWFsaXNlIiwiJGZlZWRiYWNrIiwic2VxdWVuY2VJbmRleCIsImN1cnJlbnRSb3VuZCIsInBhdHRlcm4iLCJhZGRDbGFzcyIsImh0bWwiLCJhdWRpbyIsInNldFRpbWVvdXQiLCIkZWxlbWVudCIsImVsZW1lbnQiLCJjbG9uZSIsImFwcGVuZFRvIiwicmVtb3ZlQ2xhc3MiLCJhbmltYXRpb25JbiIsImFuaW1hdGlvbk91dCIsImxpc3RlbiIsIiRkb2N1bWVudCIsImtleXByZXNzIiwidXNlclNlcXVlbmNlIiwibGVuZ3RoIiwiZXZlcnkiLCJ2IiwiY291bnQiLCJsb3NzZXMiLCJ1cGRhdGVQbGF5ZXIiLCJ0aGVTYW1lIiwiZG9jdW1lbnQiLCIkd2VsY29tZSIsIjQ5IiwiNTAiLCI1MSIsIjUyIiwiNTMiLCI1NCIsIjU1IiwiNTYiLCJudW1Db2RlIiwiZSIsImNoYXJDb2RlIiwiZ2FtZUluaXQiLCJoaWRlIiwicGxheWluZyJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0EyR0lDLFFBQUFBLEtBRUhBLEVBREVDLEVBQUEsR0FBQSxFQUNGLFdBR2lCQyxXQUloQkMsUUFBQUEsS0FDQUMsSUFBQUEsR0FBQUEsR0FBQUEsRUFBQUEsRUFBQUEsRUFBQUEsSUFBQUEsQ0FDRCxHQUFBQyxHQUFBQyxLQUFBQyxNQUFBLEVBQUFELEtBQUFFLFNBSkdDLEdBQWdCQyxLQUFLQyxFQUFRQyxFQUFPUCxLQUV0Q0YsUUFBUVUsSUFBSSxpQkFPZFQsSUFXTVUsUUFBQUEsS0FDQUMsS0FDQUEsV0FBQUEsV0FHRCxLQVBEQyxFQU9PQyxHQVdURixZQUZGQyxFQUFvQkUsRUFmZGQs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LEdBTzVCdEMsRUFEQUgsRUFBQUEsR0FBQXlDLEVBQUFDLGFBT0UvQixFQUFBQSxHQUFBQSxRQUFXZ0MsV0FMYlosRUFBQWEsT0FFRUMsR0FBVSxFQU1aekMsRUFBU3dCLFlBQWdCLFVBQ3ZCeEIsRUFBSWQsS0FBQUEsR0FDRkQsV0FBQUEsRUFBZ0IsTUEyQmhCLElBQUFnQixHQUFBLEdBd0NILFdBQ0RiLFFBQUFVLElBQUEsZ0JBQ0FpQixFQUFBQSxTQUFBQSxTQUFBQSxHQVBJRyxFQUFhdkIsS0FBSzBDLEVBQUVDLFVBU3BCZixRQUFBQSxJQUFKTCxHQUNJSSxRQVFtRixJQUFBQyxHQUFTRixFQUE5RkMsRUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCgpID0+IHtcbiAgY29uc29sZS5sb2coJ0pTIHlvJyk7XG5cbiAgY29uc3QgJGRvY3VtZW50ID0gJChkb2N1bWVudCk7XG4gIGNvbnN0IGF1ZGlvID0gJCgnYXVkaW8nKVswXTtcbiAgY29uc3QgJHdlbGNvbWUgPSAkKCcud2VsY29tZScpO1xuICBjb25zdCAkZ2FtZSA9ICQoJyNnYW1lJyk7XG4gIGNvbnN0ICRmZWVkYmFjayA9ICQoJy5mZWVkYmFjaycpO1xuXG5cbiAgY29uc3Qgc291bmRzID0gWzQ5LCA1MCwgNTEsIDUyLCA1MywgNTQsIDU1LCA1Nl07XG5cblxuICBjb25zdCB2aXN1YWxzID0ge1xuICAgIDQ5OiB7XG4gICAgICBlbGVtZW50OiAkKCcuZmlyc3QnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAnZmFkZUluRG93bkJpZycsXG4gICAgICBhbmltYXRpb25PdXQ6ICd6b29tT3V0JyxcbiAgICAgIGF1ZGlvOiA0OVxuICAgIH0sXG4gICAgNTA6IHtcbiAgICAgIGVsZW1lbnQ6ICQoJy5zZWNvbmQnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAnem9vbUluJyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDUwXG4gICAgfSxcbiAgICA1MToge1xuICAgICAgZWxlbWVudDogJCgnLnRoaXJkJyksXG4gICAgICBhbmltYXRpb25JbjogJ2ZsYXNoJyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDUxXG4gICAgfSxcbiAgICA1Mjoge1xuICAgICAgZWxlbWVudDogJCgnLmZvdXJ0aCcpLFxuICAgICAgYW5pbWF0aW9uSW46ICdyb3RhdGVJbicsXG4gICAgICBhbmltYXRpb25PdXQ6ICdyb3RhdGVPdXQnLFxuICAgICAgYXVkaW86IDUyXG4gICAgfSxcbiAgICA1Mzoge1xuICAgICAgZWxlbWVudDogJCgnLmZpZnRoJyksXG4gICAgICBhbmltYXRpb25JbjogJ2ZsYXNodHdvJyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDUzXG4gICAgfSxcbiAgICA1NDoge1xuICAgICAgZWxlbWVudDogJCgnLnNpeHRoJyksXG4gICAgICBhbmltYXRpb25JbjogJ2ZhZGVJblVwQmlnJyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2xpZ2h0U3BlZWRPdXQnLFxuICAgICAgYXVkaW86IDU0XG4gICAgfSxcbiAgICA1NToge1xuICAgICAgZWxlbWVudDogJCgnLnNldmVudGgnKSxcbiAgICAgIGFuaW1hdGlvbkluOiAnc2hha2UnLFxuICAgICAgYW5pbWF0aW9uT3V0OiAnZmFkZU91dCcsXG4gICAgICBhdWRpbzogNTVcbiAgICB9LFxuICAgIDU2OiB7XG4gICAgICBlbGVtZW50OiAkKCcuZWlnaHRoJyksXG4gICAgICBhbmltYXRpb25JbjogJ3NsaWRlSW5MZWZ0JyxcbiAgICAgIGFuaW1hdGlvbk91dDogJ2ZhZGVPdXQnLFxuICAgICAgYXVkaW86IDU2XG4gICAgfVxuXG4gIH07XG5cbiAgLy8gY3VycmVudCByb3VuZC4gZW1wdHkgcHJvZ3JhbVNlcXVlbmNlIGFycmF5LFxuICAvL2dldHMgZmlsbGVkIHgzIGF0IHN0YXJ0IHRoZW4gKG5lZWRzIHRvIGJlICsgMSBvciAyIHBlciByb3VuZCkhISEhXG5cblxuICBsZXQgY3VycmVudFJvdW5kID0gMztcbiAgbGV0IGN1cnJlbnRQbGF5ZXJOdW0gPSBjdXJyZW50Um91bmQ7XG5cblxuICBsZXQgcHJvZ3JhbVNlcXVlbmNlID0gW107XG4gIGxldCB1c2VyU2VxdWVuY2UgPSBbXTtcbiAgbGV0IG51bUNvZGUgPSBudWxsO1xuXG5cbiAgLy9QbGF5aW5nIHllcy8gbm8gc3dpdGNoXG4gIGxldCBwbGF5aW5nID0gZmFsc2U7XG5cblxuICBsZXQgY3VycmVudFBsYXllciA9ICdwbGF5ZXIgMSc7XG5cblxuICAvL2Fzc2lnbnMgdGhlIGF1ZGlvIHNyYyBhY2NvcmRpbmcgdG8ga2V5cHJlc3MgaWQgb2Yga2V5cyAxLTguXG4gICRkb2N1bWVudC5rZXlwcmVzcyhmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgcGF0dGVybiA9IHZpc3VhbHNbYCR7ZS5jaGFyQ29kZX1gXTtcbiAgICB2aXN1YWxpc2UocGF0dGVybik7XG4gIH0pO1xuXG5cbiAgLy9zd2l0Y2hlcyBwbGF5aW5nIHZhciB0byB0cnVlIGFuZCBpbml0aWFsemVzIHRoZSBnYW1lIDopXG4gIC8vaGlkZXMgdGhlIHdlbGNvbWUgZGl2XG4gICRnYW1lLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAkd2VsY29tZS5oaWRlKCk7XG4gICAgcGxheWluZyA9IHRydWU7XG4gICAgJGZlZWRiYWNrLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAkZmVlZGJhY2suaHRtbChjdXJyZW50UGxheWVyKTtcbiAgICBzZXRUaW1lb3V0KGdhbWVJbml0LCAzMDAwKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlUGxheWVyICgpIHtcbiAgICBpZiAoY3VycmVudFBsYXllck51bSAlIDIgPT09IDApIHtcbiAgICAgIGN1cnJlbnRQbGF5ZXIgPSAnUGxheWVyIDInO1xuICAgICAgLy8gY29uc29sZS5sb2coY3VycmVudFJvdW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFBsYXllciA9ICdQbGF5ZXIgMSc7XG4gICAgfVxuICB9XG4gIC8vaW5pdGlhbGl6ZXMgdGhlIGJ1aWxkaW5nIG9mIHRoZSBwcm9ncmFtIGFycmF5XG4gIGZ1bmN0aW9uIGdhbWVJbml0ICgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRSb3VuZDsgaSsrKXtcbiAgICAgIGNvbnN0IHJhbmQgPSAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjgpKTtcbiAgICAgIHByb2dyYW1TZXF1ZW5jZS5wdXNoKHZpc3VhbHNbc291bmRzW3JhbmRdXSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdpbml0aWFsaXppbmchJyk7XG4gICAgcGxheUJhY2soKTtcbiAgfVxuXG5cbiAgLy8gaGVyZSBkb2VzIHRoZXJlIG5lZWQgdG8gYmUgYSBnYW1lIGFkZCByYW5kb20gYWRkaXRpb24gdG8gYXJyYXkgT1IgYSB3YXkgb2YgdXNpbmcgdGhlIGFib3ZlIGZ1bmN0aW9uIGp1c3QgdG8gYWRkIG9uZT9cblxuICAvL3RoaXMgcGxheXMgYmFjayB0aGUgY29uc3RydWN0ZWQgcHJvZ3JhbSBhcnJheVxuICBsZXQgc2VxdWVuY2VJbmRleCA9IDA7XG5cblxuICBmdW5jdGlvbiBwbGF5QmFjaygpIHtcbiAgICB1c2VyU2VxdWVuY2UgPSBbXTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGF1ZGlvLnNyYyA9IGBhdWRpby8ke3Byb2dyYW1TZXF1ZW5jZVtzZXF1ZW5jZUluZGV4XS5hdWRpb30ud2F2YDtcbiAgICAgIC8vIGF1ZGlvLnBsYXkoKTtcbiAgICAgIGlmIChzZXF1ZW5jZUluZGV4IDwgY3VycmVudFJvdW5kKSB7XG4gICAgICAgIHBsYXlCYWNrKCk7XG4gICAgICAgIHZpc3VhbGlzZShwcm9ncmFtU2VxdWVuY2Vbc2VxdWVuY2VJbmRleF0pO1xuICAgICAgICAkZmVlZGJhY2suYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAkZmVlZGJhY2suaHRtbChjdXJyZW50UGxheWVyKTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvZ3JhbVNlcXVlbmNlW3NlcXVlbmNlSW5kZXhdLmF1ZGlvKTtcbiAgICAgICAgc2VxdWVuY2VJbmRleCsrO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBzZXF1ZW5jZUluZGV4ID0gMDtcblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiB2aXN1YWxpc2UgKHBhdHRlcm4pIHtcbiAgICAvLyBjb25zdCBwYXR0ZXJuID0gdmlzdWFsc1tpXTtcbiAgICAkZmVlZGJhY2suaHRtbChjdXJyZW50UGxheWVyKTtcbiAgICBhdWRpby5zcmMgPSBgYXVkaW8vJHtwYXR0ZXJuLmF1ZGlvfS53YXZgO1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICBjb25zdCAkZWxlbWVudCA9IHBhdHRlcm4uZWxlbWVudC5jbG9uZSgpO1xuICAgICRlbGVtZW50LmFwcGVuZFRvKCdtYWluJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpLmFkZENsYXNzKHBhdHRlcm4uYW5pbWF0aW9uSW4pLnJlbW92ZUNsYXNzKHBhdHRlcm4uYW5pbWF0aW9uT3V0KTtcbiAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAkZWxlbWVudC5yZW1vdmVDbGFzcyhwYXR0ZXJuLmFuaW1hdGlvbkluKS5hZGRDbGFzcyhwYXR0ZXJuLmFuaW1hdGlvbk91dCk7XG4gICAgfSwgMTIwMCk7XG4gICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgJGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfSwgMTkwMCk7XG4gIH1cbiAgLy9GdW5jdGlvbiBwdXNoZXMga2V5IGNoYXJjb2RlcyB0aGUgdXNlciBpbnB1dHMgdG8gdGhlIHVzZXJTZXF1ZW5jZSBhcnJheS5cbiAgZnVuY3Rpb24gbGlzdGVuKCkge1xuICAgIGNvbnNvbGUubG9nKCdsaXN0ZW5pbmcuLi4nKTtcbiAgICAkZG9jdW1lbnQua2V5cHJlc3MoZnVuY3Rpb24oZSkge1xuICAgICAgdXNlclNlcXVlbmNlLnB1c2goZS5jaGFyQ29kZSk7XG4gICAgICBjb25zb2xlLmxvZyh1c2VyU2VxdWVuY2UpO1xuICAgICAgY29tcGFyZUFycmF5cygpO1xuICAgIH0pO1xuXG4gIH1cbiAgLy9cbiAgbGlzdGVuKCk7XG5cbiAgbGV0IGxvc3NlcyA9IDA7XG4gIGxldCBjb3VudCAgPSAwO1xuXG5cblxuICAvLyBjb21wYXJlcyB0aGUgdHdvIGFycmF5cyB3aGVuIHRoZSBsZW5ndGggbWF0Y2hlcyB0aGUgY3VycmVudCByb3VuZC5cbiAgLy8gbm90IHN1cGVyIHNpY2ssY291bGRudCBnZXQgaXQgc3RvcCB0cmlnZ2VyaW5nIG9uIGV2ZXJ5IGtleXByZXNzXG4gIC8vIGlmIHBsYXllciBwYXNzZXMgdGVzdCArMSBpcyBhZGRlZCB0byByb3VuZCBsZW5ndGggYW5kIHBsYXliYWNrIHN0YXJ0cyBhZ2Fpbi5cbiAgZnVuY3Rpb24gY29tcGFyZUFycmF5cygpIHtcbiAgICBjb25zdCB0aGVTYW1lID0gdXNlclNlcXVlbmNlLmxlbmd0aCA9PT0gcHJvZ3JhbVNlcXVlbmNlLmxlbmd0aCAmJiB1c2VyU2VxdWVuY2UuZXZlcnkoKHYsaSkgPT4gdiA9PT0gcHJvZ3JhbVNlcXVlbmNlW2ldLmF1ZGlvKTtcbiAgICBjb3VudCArPSAxO1xuICAgIGlmICgoY291bnQgPT09IGN1cnJlbnRSb3VuZCkgJiYgKGxvc3NlcyA9PT0gMCkpe1xuICAgICAgY29uc29sZS5sb2codGhlU2FtZSk7XG4gICAgICBpZiAodGhlU2FtZSA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCByYW5kID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo4KSk7XG4gICAgICAgIHByb2dyYW1TZXF1ZW5jZS5wdXNoKHZpc3VhbHNbc291bmRzW3JhbmRdXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2dyYW1TZXF1ZW5jZSk7XG4gICAgICAgIHVzZXJTZXF1ZW5jZSA9IFtdO1xuICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRSb3VuZCArPSAxO1xuICAgICAgICBjdXJyZW50UGxheWVyTnVtICs9IDE7XG4gICAgICAgIHVwZGF0ZVBsYXllcigpO1xuICAgICAgICAkZmVlZGJhY2suaHRtbCgnUGFzcyEgLSBuZXh0IHVwICcgKyBjdXJyZW50UGxheWVyKTtcbiAgICAgICAgJGZlZWRiYWNrLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgc2V0VGltZW91dChwbGF5QmFjaywgMzAwMCk7XG4gICAgICB9IGVsc2UgaWYgKHRoZVNhbWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHVzZXJTZXF1ZW5jZSA9IFtdO1xuICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIGxvc3NlcyArPSAxO1xuICAgICAgICBjdXJyZW50UGxheWVyTnVtICs9IDE7XG4gICAgICAgIHNldFRpbWVvdXQocGxheUJhY2ssIDMwMDApO1xuICAgICAgICB1cGRhdGVQbGF5ZXIoKTtcbiAgICAgICAgJGZlZWRiYWNrLmh0bWwoJ0ZhaWwhIHN1ZGRlbiBkZWF0aCEhIC1uZXh0IHVwICcgKyBjdXJyZW50UGxheWVyKTtcbiAgICAgICAgJGZlZWRiYWNrLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuXG5cbiAgICAgICAgLy90aGlzIGJvdHRvbSBwYXJ0IG9mIHRoZSBpZiBlbHNlIGFjdHMgYXMgdGhlIHN1ZGRlbiBkZWF0aCBjYWxjdWxhdG9yIHBvcnRpb24gb2YgdGhlIGdhbWUsIHdvcmtzIG9uIHdoZXRoZXIgYSBsb3NzIHdhcyBzdG9yZWQgaW4gdGhlICdsb3NzZXMnIHZhci5cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKChjb3VudCA9PT0gY3VycmVudFJvdW5kKSAmJiAobG9zc2VzICE9PSAwKSl7XG4gICAgICBpZiAodGhlU2FtZSA9PT0gdHJ1ZSkge1xuICAgICAgICAkZmVlZGJhY2suaHRtbChjdXJyZW50UGxheWVyICsgJyBXaW5zIScpO1xuICAgICAgICAkZmVlZGJhY2sucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgfSBlbHNlIGlmICh0aGVTYW1lID09PSBmYWxzZSkge1xuICAgICAgICAkZmVlZGJhY2suaHRtbChjdXJyZW50UGxheWVyICsgJyBGYWlscyEhIC0tLS0gVElFIScpO1xuICAgICAgICAkZmVlZGJhY2sucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbn0pO1xuIl19
